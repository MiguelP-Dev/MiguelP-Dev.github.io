<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title">Paquetes de Golang</title>
    <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body>
    <div class="app">
        <nav class="navbar">
            <div class="nav-container">
                
                <div class="nav-group">
                    <a href="/">INICIO</a>
                    <a href="/goPackages/">PAQUETES DE GOLANG</a>
                    </a>
                </div>
            </div>
        </nav>
            <div class="container">
            <aside class="sidebar">
                <button class="menu-toggle" aria-label="Men√∫">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="sidebar-content">
            <!-- Aqu√≠ va el contenido de la barra lateral que son los botonos con funcion contentViewer para cargar los md -->
                    </div>
                </aside> 
                
                <main class="content" id="content">
                    <article class="article">
                        <h1>Bienvenido a Go Packages</h1>
                        <p>Esta es una plataforma de documentaci√≥n con un enfoque en desarrollo backend, web, API, y arcquitextura de software, dise√±ada para tener a mano mis recursos de programaci√≥n.</p>
                        
                        <h2>üìö Algunos Paquetes de Golang</h2>
                        <div class="grid-container">
                            <!-- Paquete fmt -->
                            <button class="card" onclick="contentViewer('fmt.md', 'site-title', 'Go Packages - Fmt')">
                                <div>
                                    <div class="card-icon">üì¶</div>
                                    <h3>fmt</h3>
                                    <p>Manejo de formato de entrada/salida. Paquete fundamental para operaciones de E/S formateadas.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete net/http -->
                            <button class="card" onclick="contentViewer('net.md', 'site-title', 'Go Packages - net/http')">
                                <div>
                                    <div class="card-icon">üåê</div>
                                    <h3>net/http</h3>
                                    <p>Construcci√≥n de aplicaciones web. Creaci√≥n de servidores HTTP y clientes Web.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete encoding/json -->
                            <button class="card" onclick="contentViewer('encoding.md', 'site-title', 'Go Packages - encoding/json')">
                                <div>
                                    <div class="card-icon">üì§</div>
                                    <h3>encoding/json</h3>
                                    <p>Manejo de datos JSON. Serializaci√≥n y deserializaci√≥n de estructuras JSON.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete os -->
                            <button class="card" onclick="contentViewer('os.md', 'site-title', 'Go Packages - os')">
                                <div>
                                    <div class="card-icon">üíæ</div>
                                    <h3>os</h3>
                                    <p>Interacci√≥n con el sistema operativo. Operaciones con archivos y variables de entorno.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete sync -->
                            <button class="card" onclick="contentViewer('sync.md', 'site-title', 'Go Packages - sync')">
                                <div>
                                    <div class="card-icon">üîÑ</div>
                                    <h3>sync</h3>
                                    <p>Programaci√≥n concurrente. Sincronizaci√≥n de goroutines con WaitGroup y Mutex.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete context -->
                            <button class="card" onclick="contentViewer('context.md', 'site-title', 'Go Packages - context')">
                                <div>
                                    <div class="card-icon">üï∞Ô∏è</div>
                                    <h3>context</h3>
                                    <p>Manejo de contextos. Control de tiempos de espera y cancelaci√≥n de operaciones.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete database/sql -->
                            <button class="card" onclick="contentViewer('database.md', 'site-title', 'Go Packages - database/sql')">
                                <div>
                                    <div class="card-icon">üîå</div>
                                    <h3>database/sql</h3>
                                    <p>Acceso a bases de datos. Interacci√≥n con bases de datos relacionales.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete testing -->
                            <button class="card" onclick="contentViewer('testing.md', 'site-title', 'Go Packages - testing')">
                                <div>
                                    <div class="card-icon">üß™</div>
                                    <h3>testing</h3>
                                    <p>Pruebas unitarias. Pruebas automatizadas para asegurar la calidad del c√≥digo.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete strings -->
                            <button class="card" onclick="contentViewer('strings.md', 'site-title', 'Go Packages - strings')">
                                <div>
                                    <div class="card-icon">üî§</div>
                                    <h3>strings</h3>
                                    <p>Manipulaci√≥n de cadenas. Funciones para trabajar con cadenas de texto.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete time -->
                            <button class="card" onclick="contentViewer('time.md', 'site-title', 'Go Packages - time')">
                                <div>
                                    <div class="card-icon">üìÖ</div>
                                    <h3>time</h3>
                                    <p>Manejo de fechas y horas. Operaciones con fechas y horas.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete sort -->
                            <button class="card" onclick="contentViewer('sort.md', 'site-title', 'Go Packages - sort')">
                                <div>
                                    <div class="card-icon">üîÑ</div>
                                    <h3>sort</h3>
                                    <p>Ordenaci√≥n de datos. Funciones para ordenar colecciones de datos.</p>
                                </div>
                            </button>
                        
                            <!-- Paquete regexp -->
                            <button class="card" onclick="contentViewer('regexp.md', 'site-title', 'Go Packages - regexp')">
                                <div>
                                    <div class="card-icon">üîç</div>
                                    <h3>regexp</h3>
                                    <p>Expresiones regulares. Operaciones con expresiones regulares.</p>
                                </div>
                            </button>
                            
                            <!-- Paquete log -->
                            <button class="card" onclick="contentViewer('log.md', 'site-title', 'Go Packages - log')">
                                <div>
                                    <div class="card-icon">üì¶</div>
                                    <h3>log</h3>
                                    <p>Manejo de logs. Operaciones para registrar y gestionar logs.</p>
                                </div>
                            </button>
                        </div>
                    </div>
                </article>
            </main>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.querySelector('.sidebar');
            const content = document.querySelector('.content');
            const gridContainer = document.querySelector('.grid-container');
            
            menuToggle.setAttribute('aria-label', 'Alternar men√∫ de navegaci√≥n');
            menuToggle.setAttribute('aria-expanded', 'false');
        
            const toggleSidebar = () => {
                const isActive = !sidebar.classList.contains('active');
                sidebar.classList.toggle('active');
                menuToggle.classList.toggle('active');
                menuToggle.setAttribute('aria-expanded', isActive.toString());
            };
        
            menuToggle.addEventListener('click', toggleSidebar);
        
            document.addEventListener('click', (e) => {
                if (window.innerWidth < 768 && 
                    !sidebar.contains(e.target) && 
                    !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('active');
                    menuToggle.classList.remove('active');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        
            let resizeTimeout;
            const handleResize = () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    if (window.innerWidth >= 768) {
                        sidebar.classList.remove('active');
                        menuToggle.classList.remove('active');
                        content.style.marginLeft = '';
                        menuToggle.setAttribute('aria-expanded', 'false');
                    } else {
                        sidebar.style.transform = 'translateX(-100%)';
                    }
                    adjustGrid();
                }, 100);
            };
        
            const adjustGrid = () => {
                if (!gridContainer) return;
                const containerWidth = gridContainer.offsetWidth;
                const cards = document.querySelectorAll('.card');
                const cardWidth = 250; // Ancho m√≠nimo de las tarjetas
                
                cards.forEach(card => {
                    card.style.flex = `1 1 ${Math.floor(containerWidth / Math.floor(containerWidth / cardWidth))}px`;
                });
            };
        
            adjustGrid();
            window.addEventListener('resize', handleResize);
            handleResize();
        });
        
        function contentViewer(markdownLinkPath, titleId, title) {
            const titleElement = document.getElementById(titleId);
            const contentContainer = document.getElementById('content');
        
            contentContainer.innerHTML = '<div class="loader">Cargando...</div>';
        
            fetch(markdownLinkPath)
                .then(response => {
                    if (!response.ok) throw new Error(`Error ${response.status}: ${response.statusText}`);
                    return response.text();
                })
                .then(md => {
                    const safeHtml = DOMPurify.sanitize(marked.parse(md, {
                        breaks: true,
                        gfm: true,
                        headerIds: true
                    }));
                    
                    contentContainer.innerHTML = safeHtml;
                    document.title = title;
                    
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                })
                .catch(error => {
                    console.error('Error:', error);
                    contentContainer.innerHTML = `
                        <div class="error">
                            <h3>Error al cargar el contenido</h3>
                            <p>${error.message}</p>
                            <button onclick="history.back()">Volver atr√°s</button>
                        </div>
                    `;
                });
        }
        </script>

            <script src="/static/javascript/marked.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.5/purify.min.js"></script>

        <!-- Icono flotante de GitHub -->
        <a href="https://github.com/MiguelP-Dev" target="_blank" class="github-floating">
            <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" 
                alt="GitHub" 
                class="github-icon"
                onerror="this.style.display='none'">
        </a>
    </body>
</html>